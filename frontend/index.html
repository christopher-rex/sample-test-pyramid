<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Pyramid Systems</title>

	<link rel="stylesheet" href="css/main.css">
</head>
<body>
	<h1>Pyramid Systems</h1>
	<div id="notice" class="hidden"></div>

	<div id="output"></div>

	<script type="x-tmpl-mustache" id="login-template">
		<h2>Login</h2>

		<form id="login-form" action="">
			<label>
				Email
				<input type="email" required autofocus>
				<span class="validation-message error"></span>
			</label>
			<label>
				Password
				<input type="password" required>
				<span class="validation-message error"></span>
			</label>

			<button name="submit">Submit</button>
		</form>
	</script>

	<script type="x-tmpl-mustache" id="coupon-template">
		<h2>Apply Coupon</h2>

		<form id="coupon-form" action="">
			<label>
				Coupon Code
				<input id="coupon-code" required autofocus>
				<span class="validation-message error"></span>
			</label>

			<button>Validate</button>
		</form>
	</script>

	<script src="js/router.js"></script>
	<script src="js/notifier.js"></script>
	<script src="js/auth.js"></script>

	<script src="js/login.js"></script>
	<script src="js/coupon.js"></script>

	<script>
		const templates = [].reduce.call(document.querySelectorAll('[id$=template]'), (result, element) => {
			result[element.id] = element.innerHTML
			return result
		}, {})
		router.init({ login, coupon }, templates, document.querySelector('#output'))

		const notify = notifier.init(document.querySelector('#notice'))
	</script>
</body>
</html>
